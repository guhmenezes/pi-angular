<section class="py-1 px-1 mt-4">
  <div class="container d-flex justify-content-center row mx-auto">
    <header class="my-4">
      <app-back></app-back>
      <h1 *ngIf="!havePromo" class="h3 mb-3 fw-normal text-center">Criar Promoção</h1>
      <h1 *ngIf="havePromo" class="h3 mb-3 fw-normal text-center">Promoção ativa</h1>
    </header>

      <form *ngIf="!havePromo" >
        <div class="form-group d-flex align-items-center">
          <label for="validUntil" class="col-5">Promoção válida até:</label>
          <input type="text" class="form-control" id="validUntil"
          name="validUntil"
          [(ngModel)]="data_validade"
          mask="00/00/0000"
          [dropSpecialCharacters]="false"
          >
        </div>
        <div class="form-group d-flex align-items-center my-1">
          <label for="qtyStamps" class="col-5">Quantidade de Carimbos:</label>
          <input type="text" class="form-control" id="qtyStamps"
          name="qtyStamps"
          [(ngModel)]="qtdCarimbo"
          >
        </div>
        <div class="form-group d-flex">
          <label for="description" class="col-5">Descrição:</label>
          <textarea type="text" class="form-control" id="description"
          name="description"
          [(ngModel)]="descricao"
          maxlength="100"          
          >
          </textarea>
        </div>
        <div class="d-flex justify-content-center dbtn">
          <button class="btn-lg btn-primary mt-4" (click)="createPromo()">Criar Promoção</button>
        </div>
      </form>

      <table *ngIf="havePromo"
      class="text-center mt-3">
        <tr>
          <th>Vigente até</th>
          <th>Descrição</th>
          <th>Carimbos</th>
        </tr>
        <tr class="info">
          <td> {{lastPromo.dataValidade | date:'dd/MM/yyyy'}} </td>
          <td> {{lastPromo.descricao}}</td>
          <td> {{lastPromo.espacoTotal}} </td>
        </tr>
      </table>
      
    </div>
</section>